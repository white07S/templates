2025-08-06 08:45:42,970 - app - INFO - LangGraph agent initialized successfully
2025-08-06 08:45:42,972 - app - INFO - Starting FastAPI application...
2025-08-06 08:46:22,875 - app - INFO - Shutting down FastAPI application...
2025-08-06 08:46:23,423 - app - INFO - LangGraph agent initialized successfully
2025-08-06 08:46:23,424 - app - INFO - Starting FastAPI application...
2025-08-06 08:46:34,200 - app - INFO - Streaming chat request - Session: 0fd3880a-24ca-4105-9d97-6bfa18594941, Message: whats the weather in paris?...
2025-08-06 08:46:35,249 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 400 Bad Request"
2025-08-06 08:46:35,263 - app - ERROR - Streaming error: Error code: 400 - {'error': {'message': "Unsupported parameter: 'temperature' is not supported with this model.", 'type': 'invalid_request_error', 'param': 'temperature', 'code': 'unsupported_parameter'}}
Traceback (most recent call last):
  File "/Users/preetam/Develop/backend/app.py", line 267, in process_streaming_with_langgraph
    async for chunk in self.app.astream(initial_state):
  File "/Users/preetam/Develop/backend/.venv/lib/python3.12/site-packages/langgraph/pregel/main.py", line 2928, in astream
    async for _ in runner.atick(
  File "/Users/preetam/Develop/backend/.venv/lib/python3.12/site-packages/langgraph/pregel/_runner.py", line 295, in atick
    await arun_with_retry(
  File "/Users/preetam/Develop/backend/.venv/lib/python3.12/site-packages/langgraph/pregel/_retry.py", line 137, in arun_with_retry
    return await task.proc.ainvoke(task.input, config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/preetam/Develop/backend/.venv/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 706, in ainvoke
    input = await asyncio.create_task(
            ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/preetam/Develop/backend/.venv/lib/python3.12/site-packages/langgraph/_internal/_runnable.py", line 474, in ainvoke
    ret = await self.afunc(*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/preetam/Develop/backend/.venv/lib/python3.12/site-packages/langchain_core/runnables/config.py", line 617, in run_in_executor
    return await asyncio.get_running_loop().run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/preetam/.local/share/uv/python/cpython-3.12.10-macos-aarch64-none/lib/python3.12/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/preetam/Develop/backend/.venv/lib/python3.12/site-packages/langchain_core/runnables/config.py", line 608, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/preetam/Develop/backend/app.py", line 223, in call_model
    response = self.llm_with_tools.invoke(messages)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/preetam/Develop/backend/.venv/lib/python3.12/site-packages/langchain_core/runnables/base.py", line 5434, in invoke
    return self.bound.invoke(
           ^^^^^^^^^^^^^^^^^^
  File "/Users/preetam/Develop/backend/.venv/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 395, in invoke
    self.generate_prompt(
  File "/Users/preetam/Develop/backend/.venv/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 980, in generate_prompt
    return self.generate(prompt_messages, stop=stop, callbacks=callbacks, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/preetam/Develop/backend/.venv/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 799, in generate
    self._generate_with_cache(
  File "/Users/preetam/Develop/backend/.venv/lib/python3.12/site-packages/langchain_core/language_models/chat_models.py", line 1045, in _generate_with_cache
    result = self._generate(
             ^^^^^^^^^^^^^^^
  File "/Users/preetam/Develop/backend/.venv/lib/python3.12/site-packages/langchain_openai/chat_models/base.py", line 1131, in _generate
    response = self.client.create(**payload)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/preetam/Develop/backend/.venv/lib/python3.12/site-packages/openai/_utils/_utils.py", line 287, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/preetam/Develop/backend/.venv/lib/python3.12/site-packages/openai/resources/chat/completions/completions.py", line 1135, in create
    return self._post(
           ^^^^^^^^^^^
  File "/Users/preetam/Develop/backend/.venv/lib/python3.12/site-packages/openai/_base_client.py", line 1259, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/preetam/Develop/backend/.venv/lib/python3.12/site-packages/openai/_base_client.py", line 1047, in request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Error code: 400 - {'error': {'message': "Unsupported parameter: 'temperature' is not supported with this model.", 'type': 'invalid_request_error', 'param': 'temperature', 'code': 'unsupported_parameter'}}
During task with name 'agent' and id '68e0024a-7f82-223b-e671-6029a8ee04ad'

2025-08-06 08:46:45,555 - app - INFO - Shutting down FastAPI application...
2025-08-06 08:46:46,001 - app - ERROR - Failed to initialize agent: 'Config' object has no attribute 'TEMPERATURE'
2025-08-06 08:47:19,503 - app - ERROR - Failed to initialize agent: 'Config' object has no attribute 'TEMPERATURE'
2025-08-06 08:47:24,675 - app - ERROR - Failed to initialize agent: 'Config' object has no attribute 'TEMPERATURE'
2025-08-06 08:47:37,331 - app - INFO - LangGraph agent initialized successfully
2025-08-06 08:47:37,332 - app - INFO - Starting FastAPI application...
2025-08-06 08:47:49,557 - app - INFO - Streaming chat request - Session: 710074a8-1b28-455e-a890-ab99c0631435, Message: whats the weather in paris?...
2025-08-06 08:47:49,558 - app - ERROR - Stream endpoint error: 'ChatRequest' object has no attribute 'temperature'
Traceback (most recent call last):
  File "/Users/preetam/Develop/backend/app.py", line 473, in chat_stream
    request.temperature
  File "/Users/preetam/Develop/backend/.venv/lib/python3.12/site-packages/pydantic/main.py", line 991, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'ChatRequest' object has no attribute 'temperature'

2025-08-06 08:48:55,026 - app - INFO - Shutting down FastAPI application...
2025-08-06 08:48:55,508 - app - INFO - LangGraph agent initialized successfully
2025-08-06 08:48:55,509 - app - INFO - Starting FastAPI application...
2025-08-06 08:49:06,869 - app - INFO - Streaming chat request - Session: 8e695064-6ab2-4b06-9c8a-7e683b3a2cea, Message: whats the weather in paris?...
2025-08-06 08:49:10,182 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-06 08:49:10,192 - app - INFO - Weather tool called for location: paris
2025-08-06 08:49:13,605 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-06 08:49:59,868 - app - INFO - Shutting down FastAPI application...
2025-08-06 09:07:02,546 - __main__ - INFO - LangGraph agent initialized successfully
2025-08-06 09:07:02,960 - __mp_main__ - INFO - LangGraph agent initialized successfully
2025-08-06 09:07:03,027 - watchfiles.main - INFO - 16 changes detected
2025-08-06 09:07:03,609 - watchfiles.main - INFO - 142 changes detected
2025-08-06 09:07:22,193 - watchfiles.main - INFO - 1 change detected
2025-08-06 09:07:22,651 - __mp_main__ - INFO - LangGraph agent initialized successfully
2025-08-06 09:07:22,736 - watchfiles.main - INFO - 1 change detected
2025-08-06 09:07:29,340 - watchfiles.main - INFO - 1 change detected
2025-08-06 09:07:29,792 - __mp_main__ - INFO - LangGraph agent initialized successfully
2025-08-06 09:07:29,877 - watchfiles.main - INFO - 1 change detected
2025-08-06 09:07:55,391 - watchfiles.main - INFO - 1 change detected
2025-08-06 09:07:55,860 - __mp_main__ - INFO - LangGraph agent initialized successfully
2025-08-06 09:07:55,925 - watchfiles.main - INFO - 1 change detected
2025-08-06 09:08:20,335 - watchfiles.main - INFO - 1 change detected
2025-08-06 09:08:20,788 - __mp_main__ - INFO - LangGraph agent initialized successfully
2025-08-06 09:08:20,868 - watchfiles.main - INFO - 1 change detected
2025-08-06 09:08:58,040 - __main__ - INFO - LangGraph agent initialized successfully
2025-08-06 09:09:08,446 - app - INFO - LangGraph agent initialized successfully
2025-08-06 09:09:08,448 - app - INFO - Starting FastAPI application...
2025-08-06 09:12:14,479 - app - INFO - Authentication for user: preetam.sharma
2025-08-06 09:12:14,499 - app - INFO - Retrieved history for user: c68db16d-1e49-4f05-b712-c13c444bf392
2025-08-06 09:12:14,500 - app - INFO - Retrieved history for user: c68db16d-1e49-4f05-b712-c13c444bf392
2025-08-06 09:12:25,649 - app - INFO - Streaming chat request - Session: session-1754464343253-dlp11f3rj, Message: hello...
2025-08-06 09:12:28,748 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-06 09:12:31,204 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-06 09:12:31,244 - app - INFO - Retrieved history for user: c68db16d-1e49-4f05-b712-c13c444bf392
2025-08-06 09:12:41,570 - app - INFO - Streaming chat request - Session: session-1754464355942-38qntiota, Message: whats the weather in paris?...
2025-08-06 09:12:43,759 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-06 09:12:43,768 - app - INFO - Weather tool called for location: Paris
2025-08-06 09:12:46,868 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-06 09:12:46,898 - app - INFO - Retrieved history for user: c68db16d-1e49-4f05-b712-c13c444bf392
2025-08-06 09:13:20,841 - app - INFO - Streaming chat request - Session: session-1754464400838-pgdhzakmg, Message: can you give me sin45....
2025-08-06 09:13:23,732 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-06 09:13:26,808 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-06 09:13:26,870 - app - INFO - Retrieved history for user: c68db16d-1e49-4f05-b712-c13c444bf392
2025-08-06 09:14:17,656 - app - INFO - Shutting down FastAPI application...
2025-08-06 09:27:52,359 - app - INFO - LangGraph agent initialized successfully
2025-08-06 09:27:52,361 - app - INFO - Starting FastAPI application...
2025-08-06 09:27:57,532 - app - INFO - Authentication for user: preetam.sharma
2025-08-06 09:27:57,552 - app - INFO - Retrieved history for user: c68db16d-1e49-4f05-b712-c13c444bf392
2025-08-06 09:27:57,553 - app - INFO - Retrieved history for user: c68db16d-1e49-4f05-b712-c13c444bf392
2025-08-06 09:28:22,031 - app - INFO - Streaming chat request - Session: session-1754465291883-w93xwfm85, Message: hello do you know about pandas lib in python?...
2025-08-06 09:28:52,075 - openai._base_client - INFO - Retrying request to /chat/completions in 0.458481 seconds
2025-08-06 09:29:14,500 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-06 09:29:16,635 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-06 09:29:17,007 - app - INFO - Retrieved history for user: c68db16d-1e49-4f05-b712-c13c444bf392
2025-08-06 09:32:33,252 - app - INFO - Retrieved history for user: c68db16d-1e49-4f05-b712-c13c444bf392
2025-08-06 09:32:33,254 - app - INFO - Retrieved history for user: c68db16d-1e49-4f05-b712-c13c444bf392
2025-08-06 09:32:54,838 - app - INFO - Retrieved history for user: c68db16d-1e49-4f05-b712-c13c444bf392
2025-08-06 09:32:54,839 - app - INFO - Retrieved history for user: c68db16d-1e49-4f05-b712-c13c444bf392
2025-08-06 09:33:11,241 - app - INFO - Streaming chat request - Session: session-1754465583737-ctl0tkkt2, Message: hello, do you know about pandas python lib?...
2025-08-06 09:33:14,743 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-06 09:33:17,360 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/chat/completions "HTTP/1.1 200 OK"
2025-08-06 09:33:17,828 - app - INFO - Retrieved history for user: c68db16d-1e49-4f05-b712-c13c444bf392
2025-08-06 09:35:44,927 - app - INFO - Retrieved history for user: c68db16d-1e49-4f05-b712-c13c444bf392
2025-08-06 09:35:44,928 - app - INFO - Retrieved history for user: c68db16d-1e49-4f05-b712-c13c444bf392
2025-08-06 09:44:10,901 - app - INFO - Shutting down FastAPI application...
